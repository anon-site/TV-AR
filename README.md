# NOON TV - مشغل القنوات الفضائية العربية 📺

تطبيق ويب احترافي متطور لمشاهدة القنوات الفضائية العربية المباشرة بأفضل جودة وأحدث التقنيات.

## ✨ المميزات الرئيسية

### 🎯 المشغل الأساسي
- **100+ قناة عربية** من مختلف البلدان العربية
- **بث مباشر عالي الجودة** بتقنية HLS (m3u8)
- **جودة تلقائية ذكية** تتكيف مع سرعة الإنترنت
- **تصميم متجاوب** يعمل على جميع الأجهزة والشاشات
- **واجهة عربية احترافية** بالخط العربي Cairo

### 🎮 مشغل فيديو متطور
- **نافذة منبثقة احترافية** مع تحكم كامل
- **تحكم في الجودة** (تلقائي، 1080p، 720p، 480p، 360p، 240p)
- **وضع Picture-in-Picture** للشاشة المنفصلة
- **وضع ملء الشاشة** الكامل
- **تحكم في الصوت** مع شريط تمرير
- **تشغيل تلقائي** ذكي

### ⚙️ لوحة تحكم إدارية متكاملة
- **إدارة شاملة للقنوات** (إضافة، تعديل، حذف، ترتيب)
- **نظام فئات متقدم** مع أيقونات مخصصة
- **بحث ذكي** في القنوات مع تصفية متقدمة
- **نظام المفضلة** مع حفظ محلي
- **أمان متقدم** مع تشفير SHA-256

### ☁️ مزامنة سحابية متطورة
- **دعم GitHub/GitLab** للمزامنة السحابية
- **حل التضارب الذكي** بين الأجهزة
- **مزامنة تلقائية** ويدوية
- **استيراد/تصدير** البيانات للنسخ الاحتياطي
- **حفظ تلقائي** للقنوات والإعدادات

### 🎨 تخصيص شامل
- **تحكم في الحجم**: تصغير وتكبير المحتوى (75% - 150%)
- **أنظمة ألوان متنوعة**: أزرق، أخضر، بنفسجي، برتقالي، أحمر
- **أنماط عرض مختلفة**: شبكة، قائمة، مضغوط
- **أحجام نصوص متدرجة**: صغير، متوسط، كبير، كبير جداً
- **أشكال حواف**: مربع، عادي، مدور
- **وضع مضغوط**: لتوفير المساحة
- **تحكم في الرسوم المتحركة**: تفعيل/إيقاف
- **وضع التباين العالي**: لتحسين الوضوح

### 🛠️ أدوات متقدمة
- **فحص الروابط** (IPTV Checker) لاختبار القنوات
- **تشخيص النظام** مع إحصائيات مفصلة
- **إشعارات ذكية** للمستخدم
- **دعم Service Worker** للعمل بدون إنترنت
- **أدوات إدارية شاملة** للمطورين

## ⚠️ مشكلة GitHub Pages مع روابط M3U8

### المشكلة
GitHub Pages لا يدعم تشغيل ملفات M3U8 (HLS streams) بشكل مباشر بسبب قيود الأمان والسياسات. هذا يعني أن روابط البث المباشر قد لا تعمل عند نشر الموقع على GitHub Pages.

### الحلول المتاحة

#### 1. استخدام خادم محلي (الأفضل) ⭐
```bash
# باستخدام Python
python -m http.server 8000

# باستخدام Node.js
npx http-server

# باستخدام PHP
php -S localhost:8000
```

#### 2. استضافة بديلة تدعم HLS 🌐
- **Netlify**: يدعم HLS بشكل أفضل من GitHub Pages
- **Vercel**: يوفر دعم أفضل للبث المباشر
- **Firebase Hosting**: يدعم HLS streams
- **Heroku**: يمكن استخدامه لاستضافة التطبيق

#### 3. استخدام خوادم وكيل CORS 🔄
التطبيق يحاول تلقائياً استخدام خوادم وكيل CORS لحل مشكلة GitHub Pages، لكن هذا الحل قد يكون بطيئاً أو غير مستقر.

#### 4. تحويل روابط M3U8 إلى روابط أخرى 🔧
يمكن تحويل روابط M3U8 إلى روابط أخرى مدعومة مثل:
- روابط YouTube المباشرة
- روابط RTMP
- روابط MP4 مباشرة

## 🚀 التشغيل السريع

### متطلبات التشغيل
- متصفح ويب حديث يدعم HTML5
- اتصال بالإنترنت للبث المباشر

### خطوات التشغيل المحلي (مستحسن)
1. **تحميل الملفات**: تأكد من وجود جميع الملفات في نفس المجلد
2. **تشغيل خادم محلي**: استخدم أحد الأوامر أعلاه
3. **فتح التطبيق**: افتح `http://localhost:8000` في المتصفح
4. **اختيار قناة**: انقر على أي قناة لبدء المشاهدة
5. **الاستمتاع**: استمتع بالبث المباشر عالي الجودة

### خطوات التشغيل على GitHub Pages (مع قيود)
1. **رفع الملفات**: ادفع الكود إلى مستودع GitHub
2. **تفعيل GitHub Pages**: من إعدادات المستودع
3. **فتح الموقع**: على `https://username.github.io/repository-name`
4. **ملاحظة**: قد لا تعمل بعض روابط M3U8 بسبب قيود الأمان

## 📁 هيكل الملفات

```
📁 المشروع/
├── 📄 index.html          # الصفحة الرئيسية
├── 🎨 style.css           # ملف التصميم
├── ⚙️ script.js           # ملف البرمجة الأساسي
├── 📋 channels.json       # قاعدة بيانات القنوات
├── 🔍 iptv-checker.html   # أداة فحص الروابط
├── 🎨 favicon.svg         # أيقونة التطبيق
├── 📱 site.webmanifest    # ملف PWA
└── 📖 README.md           # ملف التوثيق
```

## 🎯 دليل الاستخدام

### 👥 للمشاهدين
1. **تصفح القنوات**: استخدم التبويبات للتنقل بين فئات القنوات
2. **البحث السريع**: اكتب اسم القناة في مربع البحث
3. **المشاهدة**: انقر على أي قناة لفتح مشغل الفيديو
4. **التحكم**: استخدم أزرار التحكم في جودة الفيديو وملء الشاشة
5. **المفضلة**: احفظ القنوات المفضلة للوصول السريع

### ⚙️ للمديرين
1. **فتح لوحة التحكم**: انقر على زر "لوحة التحكم" في الأعلى
2. **إدارة القنوات**: عرض وتعديل وحذف القنوات الموجودة
3. **إضافة قناة جديدة**: املأ النموذج برابط m3u8 صحيح
4. **إدارة الفئات**: تنظيم القنوات حسب النوع
5. **الأمان**: تغيير كلمة مرور الإدارة

### 🎨 للمخصصين
1. **فتح الإعدادات**: انقر على زر "الإعدادات" في الأعلى
2. **تخصيص المظهر**: 
   - اضبط حجم المحتوى بالسحب على شريط التكبير
   - اختر نظام الألوان المفضل لديك
   - غيّر حجم النص ليناسب احتياجاتك
   - اختر شكل الحواف (مربع، عادي، مدور)
3. **تخصيص التخطيط**:
   - اختر نمط العرض (شبكة، قائمة، مضغوط)
   - فعّل الوضع المضغوط لتوفير المساحة
   - تحكم في الرسوم المتحركة
   - استخدم وضع التباين العالي للوضوح الأفضل
4. **إعادة التعيين**: انقر على "إعادة تعيين التخصيصات" للعودة للإعدادات الافتراضية

## ☁️ المزامنة السحابية المتطورة

### 🚀 إعداد سريع
1. **إنشاء مستودع**: أنشئ مستودعاً جديداً في GitHub/GitLab
2. **إنشاء رمز الوصول**: 
   - GitHub: Settings → Developer settings → Personal access tokens
   - GitLab: User Settings → Access Tokens
3. **تكوين التطبيق**: 
   - افتح لوحة التحكم → الإعدادات العامة
   - فعّل التخزين السحابي
   - أدخل بيانات المستودع ورمز الوصول
4. **اختبار**: استخدم "اختبار الاتصال" ثم "مزامنة الآن"

### ⚡ أنواع المزامنة الذكية
- **تلقائية عند التحديث**: عند تحديث القنوات من GitHub، تتم المزامنة تلقائياً مع جميع الأجهزة المتصلة
- **تلقائية عند التعديل**: عند إضافة/تعديل/حذف القنوات من لوحة التحكم
- **يدوية**: باستخدام زر "مزامنة الآن"
- **عند الفتح**: من جهاز جديد مع فحص التحديثات أولاً

### 🔄 سير عمل المزامنة المحسن
1. **فحص التحديثات**: عند فتح التطبيق، يتم فحص التحديثات من GitHub أولاً
2. **المزامنة الذكية**: إذا كانت المزامنة السحابية مفعلة، يتم تحديث القنوات ومزامنتها تلقائياً
3. **إشعارات ذكية**: المستخدم يحصل على إشعارات واضحة عن حالة المزامنة
4. **حل التضارب**: نظام ذكي لحل التضارب بين البيانات المحلية والسحابية

### 🎯 المميزات الجديدة
- **مزامنة تلقائية عند التحديث**: عند الضغط على "تحديث القنوات"، تتم المزامنة تلقائياً مع السحابة
- **إشعارات محسنة**: إشعارات واضحة تخبر المستخدم عن حالة المزامنة
- **فحص ذكي**: فحص التحديثات من GitHub قبل المزامنة السحابية
- **رسائل توضيحية**: رسائل واضحة تخبر المستخدم عن فوائد المزامنة السحابية

### 🔧 حل المشاكل
- **خطأ الاتصال**: تحقق من رمز الوصول ورابط المستودع
- **رفض الوصول**: تأكد من صلاحيات رمز الوصول
- **تضارب الإصدارات**: استخدم أدوات التشخيص أو المزامنة اليدوية
- **عدم ظهور التحديثات على الهاتف**: تأكد من تفعيل المزامنة السحابية على الكمبيوتر

## 🔧 المواصفات التقنية

### جودة البث
- **تلقائي**: يتكيف مع سرعة الإنترنت
- **عالي**: 1080p (10+ Mbps)
- **متوسط**: 720p (5-10 Mbps)
- **منخفض**: 480p (أقل من 5 Mbps)

### التقنيات المستخدمة
- **HTML5 + CSS3**: هيكل وتصميم حديث
- **JavaScript ES6+**: برمجة تفاعلية متقدمة
- **HLS.js**: تشغيل البث المباشر عالي الجودة
- **Service Worker**: دعم العمل بدون إنترنت
- **GitHub API**: مزامنة سحابية متطورة

## 🌐 التوافق والدعم

### المتصفحات المدعومة
- ✅ Chrome 80+ | Firefox 75+ | Safari 13+ | Edge 80+

### الأجهزة المدعومة
- 💻 أجهزة الكمبيوتر | 📱 الهواتف الذكية | 📱 الأجهزة اللوحية | 📺 التلفزيونات الذكية

## 🔒 الأمان والخصوصية

- **تشفير البيانات**: جميع البيانات محفوظة محلياً
- **عدم جمع البيانات**: لا يتم إرسال أي بيانات خارجية
- **روابط آمنة**: جميع الروابط من مصادر موثوقة
- **بدون إعلانات**: تجربة مشاهدة نظيفة

## 🔧 استكشاف الأخطاء

### مشاكل شائعة وحلولها

#### 1. روابط M3U8 لا تعمل على GitHub Pages ❌
**المشكلة**: رسالة خطأ "CORS policy" أو "Network Error"
**الحل**: 
- استخدم خادم محلي بدلاً من GitHub Pages
- جرب استضافة أخرى مثل Netlify أو Vercel
- التطبيق يحاول تلقائياً استخدام خوادم وكيل CORS

#### 2. البث بطيء أو متقطع 🐌
**المشكلة**: الفيديو يتوقف أو يتحمّل ببطء
**الحل**:
- تحقق من سرعة الإنترنت
- جرب جودة أقل من إعدادات المشغل
- تأكد من عدم وجود برامج تستهلك الإنترنت

#### 3. لا تظهر القنوات 📺
**المشكلة**: القائمة فارغة أو لا تظهر القنوات
**الحل**:
- تحقق من اتصال الإنترنت
- اضغط على "تحديث القنوات" في القائمة الجانبية
- امسح بيانات المتصفح المحفوظة

#### 4. رسائل خطأ في وحدة التحكم 🖥️
**المشكلة**: أخطاء JavaScript في وحدة التحكم
**الحل**:
- تأكد من تحديث المتصفح
- جرب متصفح آخر
- تحقق من إعدادات الأمان في المتصفح

#### 5. المزامنة السحابية لا تعمل ☁️
**المشكلة**: لا تتم مزامنة البيانات مع GitHub
**الحل**:
- تحقق من رمز الوصول (Token)
- تأكد من صحة رابط المستودع
- تحقق من صلاحيات رمز الوصول

## 📞 الدعم الفني

في حالة وجود مشاكل:
1. تأكد من اتصال الإنترنت
2. جرب إعادة تحديث الصفحة
3. امسح بيانات المتصفح المحفوظة
4. تأكد من تحديث المتصفح
5. جرب خادم محلي بدلاً من GitHub Pages

---

**تم تطوير هذا التطبيق بمحبة للمجتمع العربي** ❤️

**الإصدار**: 2.0.1 | **الترخيص**: مفتوح المصدر
