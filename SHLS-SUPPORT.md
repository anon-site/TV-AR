# دعم SHLS Streams في NOON TV

## المشكلة التي تم حلها

كان الرابط `https://shls-live-enc.edgenextcdn.net/out/v1/46079e838e65490c8299f902a7731168/index_1.m3u8` لا يعمل بسبب مشاكل في التعامل مع الوكلاء (proxies) لملفات M3U8.

## الحل المطبق

### 1. تبسيط دالة `loadShlsVideo`
- إزالة الاعتماد على الوكلاء المعقدة
- استخدام التحميل المباشر مع دعم HLS.js
- إضافة معالجة أفضل للأخطاء

### 2. دعم متعدد المستويات
- **المستوى الأول**: استخدام HLS.js إذا كان متاحاً
- **المستوى الثاني**: استخدام دعم المتصفح الأصلي لـ HLS
- **المستوى الثالث**: عرض رسالة خطأ واضحة

### 3. تحسينات إضافية
- إضافة event listeners لمراقبة حالة التحميل
- تنظيف أفضل لـ HLS instances عند إغلاق الفيديو
- رسائل خطأ أكثر وضوحاً

## كيفية الاستخدام

### إضافة قناة جديدة
1. افتح لوحة التحكم
2. اضغط على "إضافة قناة"
3. أدخل الرابط الذي يبدأ بـ `shls-live-enc.edgenextcdn.net`
4. سيتم كشف النوع تلقائياً كـ "SHLS Stream"

### اختبار الوظيفة
1. افتح ملف `test-shls.html` في المتصفح
2. اضغط على "تحميل الفيديو" لاختبار الرابط
3. راقب رسائل الحالة في منطقة النتائج

## الملفات المحدثة

- `script.js`: دالة `loadShlsVideo` محدثة
- `channels.json`: قناة تجريبية مضافة
- `test-shls.html`: ملف اختبار محدث
- `index.html`: نص المساعدة محدث

## ملاحظات مهمة

- الرابط يعمل بشكل أفضل مع HLS.js
- بعض المتصفحات قد تحتاج VPN للوصول للرابط
- في حالة عدم العمل، جرب استخدام متصفح مختلف أو VPN

## استكشاف الأخطاء

إذا لم يعمل الرابط:
1. تحقق من اتصال الإنترنت
2. جرب استخدام VPN
3. تحقق من console المتصفح للأخطاء
4. تأكد من أن الرابط صالح ومتاح
