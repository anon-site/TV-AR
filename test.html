<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اختبار إضافة الفئات</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        button { padding: 10px 15px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        .category-list { margin: 10px 0; }
        .category-item { padding: 5px; background: #f8f9fa; margin: 2px 0; }
    </style>
</head>
<body>
    <h1>اختبار إضافة الفئات الديناميكية</h1>
    
    <div class="test-section">
        <h3>إضافة فئة جديدة</h3>
        <button onclick="addTestCategory()">إضافة فئة "الأطفال"</button>
        <button onclick="addTestCategory2()">إضافة فئة "التعليمية"</button>
        <button onclick="refreshCategories()">تحديث القائمة</button>
    </div>
    
    <div class="test-section">
        <h3>الفئات الحالية:</h3>
        <div id="categoryList" class="category-list"></div>
    </div>
    
    <div class="test-section">
        <h3>القائمة الجانبية المحاكاة:</h3>
        <div id="sidebarTabs" class="sidebar-nav-tabs"></div>
    </div>

    <script>
        // محاكاة بسيطة للفئات
        let categories = [
            { key: 'all', name: 'جميع القنوات', icon: 'fas fa-th' },
            { key: 'news', name: 'الأخبار', icon: 'fas fa-newspaper' },
            { key: 'entertainment', name: 'الترفيه', icon: 'fas fa-tv' },
            { key: 'sports', name: 'الرياضة', icon: 'fas fa-futbol' },
            { key: 'religious', name: 'الدينية', icon: 'fas fa-pray' },
            { key: 'music', name: 'الموسيقى', icon: 'fas fa-music' },
            { key: 'movies', name: 'الأفلام', icon: 'fas fa-film' },
            { key: 'documentary', name: 'الوثائقية', icon: 'fas fa-book-open' }
        ];

        function addTestCategory() {
            const newCategory = {
                key: 'kids',
                name: 'الأطفال',
                icon: 'fas fa-child'
            };
            categories.push(newCategory);
            refreshCategories();
            updateSidebarTabs();
        }

        function addTestCategory2() {
            const newCategory = {
                key: 'education',
                name: 'التعليمية',
                icon: 'fas fa-graduation-cap'
            };
            categories.push(newCategory);
            refreshCategories();
            updateSidebarTabs();
        }

        function refreshCategories() {
            const categoryList = document.getElementById('categoryList');
            categoryList.innerHTML = '';
            categories.forEach(category => {
                const div = document.createElement('div');
                div.className = 'category-item';
                div.innerHTML = `${category.name} (${category.key}) - ${category.icon}`;
                categoryList.appendChild(div);
            });
        }

        function updateSidebarTabs() {
            const sidebarTabs = document.getElementById('sidebarTabs');
            sidebarTabs.innerHTML = '';
            
            categories.forEach(category => {
                const tab = document.createElement('button');
                tab.className = 'sidebar-nav-tab';
                tab.dataset.category = category.key;
                if (category.key === 'all') {
                    tab.classList.add('active');
                }
                tab.innerHTML = `<i class="${category.icon}"></i> <span>${category.name}</span> <span class="tab-count">0</span>`;
                sidebarTabs.appendChild(tab);
            });
        }

        // تهيئة الصفحة
        refreshCategories();
        updateSidebarTabs();
    </script>
</body>
</html>
